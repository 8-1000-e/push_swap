/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   parse_arg.c                                        :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: npalissi <npalissi@student.42angouleme.    +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2024/11/30 16:35:38 by edubois-          #+#    #+#             */
/*   Updated: 2024/12/03 00:53:20 by npalissi         ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "../push_swap.h"

void	check_for_letters(char **av, int ac)
{
	int i;
	int j;

	i = 0;
	j = -1;
	while (--ac && av[++j])
	{
		i = 0;
		while (av[j][i] && ft_strchr(" 0123456789-+", av[j][i]))
			i++;
		if (av[j][i])
		    clean_exit(NULL, 1);
	}
	if (av[++j])
		clean_exit(NULL, 1);
}

void	check_for_sign(char **av, int ac)
{
	int	i;
	int	j;
	
	i = 0;
	j = -1;
	while (--ac && av[++j])
	{
		i = 0;
		while (av[j][i])
		{
			if (ft_issign(av[j][i]) && !ft_isdigit(av[j][i + 1]))
				clean_exit(NULL, 1);
			i++;
		}
	}
	if (av[++j])
		clean_exit(NULL, 1);
}

void	check_for_dups(t_list *lst)
{
	t_list	*save_lst;
	t_list	*keep_lst;

	save_lst = lst;
	keep_lst = lst;
	while (save_lst)
	{
		lst = lst->next;	
		while (lst && lst->content != save_lst->content)
		{
			lst = lst->next;
		}
		if (lst)
			clean_exit(keep_lst, 1);
		save_lst = save_lst->next;
		lst = save_lst;
	}
}

void    check_args(int ac, char **av)
{
	check_for_letters(av, ac);
	check_for_sign(av, ac);
}
// 983 159 744 231 856 394 517 672 133 895 246 781 305 468 923 147 590 835 264 719 483 156 942 371 608 175 847 293 526 164 935 442 687 218 753 396 841 152 579 234 865 417 692 138 573 926 285 748 163 894 457 612 189 736 425 958 341 786 254 639 892 365 518 943 276 731 184 657 492 168 723 456 981 294 537 862 145 798 376 623 884 247 592 435 768 321 546 973 182 829 564 917 348 695 142 587 934 263 816 475 728 193 646 381 925 154 897 432 675 563 946 389 742 167 614 953 286 831 574 127 968 345 792 236 581 924 467 713 158 342 679 527 963 819 452 795 368 964 578 843 396 751 284 637 192 945 713 246 589 457 912 165 628 373 816 259 742 185 934 823 156 591 348 975 264 817 532 689 174 923 456 781 328 675 192 947 384 631 258 895 142 769 316 583 457 812 365 738 193 646 281 534 967 372 819 723 168 915 342 597 284 631 768 195 842 479 326 953 184 627 395 942 268 715 483 936 271 624 157 893 426 759 312 865 194 537 872 419 764 678 345 982 167 914 563 826 491 738 365 612 947 531 876 648 925 372 715 963 729 256 893 147 694 361 528 975 432 687 214 859 396 743 128 675 317 564 829 176 923 458 791 637 182 348 693 843 529 874 678 415 962 347 594 873 456 364 527 968 235 782 419 664 187 561 826 473 718 265 912 694 578 196 759 312 657 984 243 896 421 135 682 947 314 567 892 435 782 169 916 543 798 265 412 759 186 933 478 625 142 897 364 731 258 605 942 317 864 491 738 912 459 806 173 628 945 382 737 164 819 256 593 948 371 826 473 718 347 684 578 825 462 719 184 937 364 611 958 273 526 871 194 649 382 735 468 915 284 976 423 768 195 642 387 261 518 875 432 679 126 873 548 795 362 917 631 715 182 929 476 823 168 615 357 925 819 376 148 532 779 264 617